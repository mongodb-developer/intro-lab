import Screenshot from '@site/src/components/Screenshot';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# üëê Start the Application

You have two options to start the application.

## Option 1: Run in a codespace

By far, the easiest way to start the application is to run it in a codespace. A codespace is a cloud-hosted, containerized development environment that you can connect to from Visual Studio Code. It comes pre-configured with all the tools you need to build and run the application.

In the case of this application, you can even use the online IDE to edit the code and see the changes reflected in the running application.

<Tabs groupId="server">
<TabItem value="node" label="üöÄ NodeJS/Express">

Open the [repository on the `main` branch](https://github.com/mongodb-developer/library-management-system).

To start the application in a codespace, click "Code." Then, look for the *Codespaces* tab. Click "Create Codespace on main." This will create a new codespace for you and start the application.

<Screenshot url="https://github.com/mongodb-developer/library-management-system" src="img/screenshots/50-demo-app/2-start-app/1-codespace.png" alt="Create codespace button" />

</TabItem>

<TabItem value="java" label="‚òïÔ∏è Java Spring Boot">

Open the [repository on the `java-server` branch](https://github.com/mongodb-developer/library-management-system/tree/java-server).

To start the Java application in a codespace, check that you are in the `java-server` branch and then click "Code." Then, look for the *Codespaces* tab. Click "Create Codespace on java-server." This will create a new codespace for you and start the application.

<Screenshot url="https://github.com/mongodb-developer/library-management-system/tree/java-server" src="img/screenshots/50-demo-app/2-start-app/1-codespace-java.png" alt="Create codespace button" />

</TabItem>
</Tabs>



Let it run for a few seconds as it prepares your environment. It will clone the repository, prepare the containers, and run the installation scripts. Once it's ready, you'll see an IDE, with a preview window that shows the running application.

:::note
Again, this might take a few minutes. It's a great time to grab a coffee. ‚òïÔ∏è
:::

<Screenshot url="https://github.com/mongodb-developer/library-management-system" src="img/screenshots/50-demo-app/2-start-app/2-codespace.png" alt="The codespace" />

:::warning
Right now, you should see a big error message in the console, as we haven't configured the app yet. Don't worry, you'll get it up and running in a few minutes.

```
    ####### ######  ######  ####### ######
    #       #     # #     # #     # #     #
    #       #     # #     # #     # #     #
    #####   ######  ######  #     # ######
    #       #   #   #   #   #     # #   #
    #       #    #  #    #  #     # #    #
    ####### #     # #     # ####### #     #
```
:::


### Expose the server port

To get the application working in that environment, there is one small change you need to make to the codespace. You need to expose the port where the server is running.

Look for the *Ports* tab at the bottom of the IDE.

<Screenshot url="https://github.com/mongodb-developer/library-management-system" src="img/screenshots/50-demo-app/2-start-app/3-ports.png" alt="The Ports tab" />

Once you click on the tab, you'll see a list of ports. Right-click on the port `Server (5000)` row. Then, select "Port Visibility" and "Public."

<Screenshot url="https://github.com/mongodb-developer/library-management-system" src="img/screenshots/50-demo-app/2-start-app/4-port-visibility.png" alt="The Port Visibility menu" />

You'll see the text in the *Visibility* column change to `Public`.

That's it! You're now ready to move to the next section.

## ü¶∏ Option 2: Run locally

If you prefer to run the application locally, you can do so by following these steps. Keep in mind that the following steps of this lab will be using the codespace, so you might need to adapt some of the commands.

:::info

During the lab, we will use GitHub Codespaces. These instructions are here just in case you can't use Codespaces or you _really, really, really_ want a local installation.

:::

First, clone the repository to your local machine.

```bash
git clone git@github.com:mongodb-developer/library-management-system.git
```

Then, change to the `library-management-system` directory.

```bash
cd library-management-system
```

<Tabs groupId="server">
<TabItem value="node" label="üöÄ NodeJS/Express">

Now, go to each of the `client` and `server` directories and install the dependencies.

```bash
cd client
npm install
cd ../server
npm install
```

Start the server application.

```bash
npm start
```

And, in another terminal window, start the client application.

```bash
cd client
npm start
```

</TabItem>

<TabItem value="java" label="‚òïÔ∏è Java Spring Boot">

Before starting the backend, make sure you set the MongoDB connection string as an environment variable.

#### 1 - Set the environment variable
On Linux / macOS:

```bash
export MONGODB_URI="<YOUR_CONNECTION_STRING>"
````

On Windows:
```
$env:MONGODB_URI="<YOUR_CONNECTION_STRING>"
```
#### 2 - Run the Java server:
```
cd library-management-system/java-server
mvn spring-boot:start
```

#### 3 - Run the client:
```bash
cd library-management-system/client

npm install
npm start
```

</TabItem>
</Tabs>

You now have the client running on http://localhost:4200 and the server running on http://localhost:5000.
